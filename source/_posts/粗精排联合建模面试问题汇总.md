---
title: 粗精排联合建模面试问题汇总
date: 2023-11-26 16:30:00
categories:
  - 联合建模
tags:
  - 粗排
  - 精排
  - 召回
description: 主要理清召回，粗排，精排一些常见问题，明白里面的各个关系。
cover: https://cdn.jsdelivr.net/gh/1oscar/image_house@main/%E5%8F%AC%E5%9B%9E%E7%B2%97%E6%8E%92%E7%B2%BE%E6%8E%92%E6%BC%8F%E6%96%9720231125.png
---

## 我们要解决的几个问题

- 学习目标的认识
- 召回
- 粗排的学习目标
- 粗排评价标准
- 精排的学习目标
- 精排评价标准
- 精排"自嗨"乱象


## 学习目标的认识

学习目标可以理解为训练样本是什么。

## 召回

分为主路和支路。

主路主打个性化和向上管理。支路主打查漏补缺。


主流召回评价：采用粗排评价方式，ndcg。看和粗排的序的ngcg指标。

支路：也会计算auc等，仅仅参考，实际还是看线上效果看是否有效。

召回融合：

1.根据经验，各个召回路线排个序，先取哪一个。前面有的，后面再有，删除

2.前面有的，后面在有，可以优先往前排。

3.前面有的，后面在有，可以取平均分。


## 粗排的学习目标

粗排学习目标是向精排看齐。粗排的下一个阶段是精排，精排就像粗排的领导，粗排看中的，排序好的，如果领导精排都看不中，排序不好，那么粗排就是失败的。粗排排的好，精排也排的好，相当于粗排帮精排排忧解难了。

## 粗排目的

1.给系统减负

主要是降低精排的系统压力

2.提高业务效果



## 粗排评价标准

1.ndcg: 评估2个排序相似度。 精排的输出让粗排再过一遍。看下是否相似。



## 精排的学习目标

可以理解为后验，即真实的show和click，show了，以有无点击作为正负样本。

## 精排评价标准

auc/gauc

![gauc](https://cdn.jsdelivr.net/gh/1oscar/image_house@main/auc20231125.png)

w指的是show。gauc偏向活跃用户。

## 精排"自嗨"乱象

精排的训练样本来自于线上真实的show和click，线上真实落盘的show和click来自于精排的预估，所以存在学习的是自己产生的，有点困在牢中，容易陷入自嗨现象。产生的问题，就是有的单子拿不到量。如果一开始拿不到量，那么训练和预估依然是感觉良好的。

解决自嗨想象办法：

1.策略干预，针对新单子给与一定的探索

2.随机流量，给与一定的比例，不通过任何模型的随机量

